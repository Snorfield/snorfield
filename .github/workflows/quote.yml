name: Update Daily Quote

on:
  schedule:
    - cron: "0 0 * * *"
  workflow_dispatch: 

permissions:
  contents: write

jobs:
  update-quote:
    runs-on: ubuntu-latest

    steps:
      - name: Checkout repo
        uses: actions/checkout@v4

      - name: Pick and update quote
        run: |
          QUOTES=(
            "𝐅𝐢𝐫𝐬𝐭, 𝐬𝐨𝐥𝐯𝐞 𝐭𝐡𝐞 𝐩𝐫𝐨𝐛𝐥𝐞𝐦. 𝐓𝐡𝐞𝐧, 𝐰𝐫𝐢𝐭𝐞 𝐭𝐡𝐞 𝐜𝐨𝐝𝐞. – 𝐉𝐨𝐡𝐧 𝐉𝐨𝐡𝐧𝐬𝐨𝐧"
            "𝐓𝐚𝐥𝐤 𝐢𝐬 𝐜𝐡𝐞𝐚𝐩. 𝐒𝐡𝐨𝐰 𝐦𝐞 𝐭𝐡𝐞 𝐜𝐨𝐝𝐞. – 𝐋𝐢𝐧𝐮𝐬 𝐓𝐨𝐫𝐯𝐚𝐥𝐝𝐬"
            "𝐅𝐚𝐢𝐭𝐡𝐥𝐞𝐬𝐬 𝐢𝐬 𝐡𝐞 𝐭𝐡𝐚𝐭 𝐬𝐚𝐲𝐬 𝐟𝐚𝐫𝐞𝐰𝐞𝐥𝐥 𝐰𝐡𝐞𝐧 𝐭𝐡𝐞 𝐫𝐨𝐚𝐝 𝐝𝐚𝐫𝐤𝐞𝐧𝐬. — 𝐓𝐡𝐞 𝐅𝐞𝐥𝐥𝐨𝐰𝐬𝐡𝐢𝐩 𝐨𝐟 𝐭𝐡𝐞 𝐑𝐢𝐧𝐠, 𝐉.𝐑.𝐑. 𝐓𝐨𝐥𝐤𝐢𝐞𝐧"
            "𝐈𝐟 𝐦𝐨𝐫𝐞 𝐨𝐟 𝐮𝐬 𝐯𝐚𝐥𝐮𝐞𝐝 𝐟𝐨𝐨𝐝 𝐚𝐧𝐝 𝐜𝐡𝐞𝐞𝐫 𝐚𝐧𝐝 𝐬𝐨𝐧𝐠 𝐚𝐛𝐨𝐯𝐞 𝐡𝐨𝐚𝐫𝐝𝐞𝐝 𝐠𝐨𝐥𝐝, 𝐢𝐭 𝐰𝐨𝐮𝐥𝐝 𝐛𝐞 𝐚 𝐦𝐞𝐫𝐫𝐢𝐞𝐫 𝐰𝐨𝐫𝐥𝐝. — 𝐓𝐡𝐞 𝐇𝐨𝐛𝐛𝐢𝐭, 𝐉.𝐑.𝐑. 𝐓𝐨𝐥𝐤𝐢𝐞𝐧"
            "𝐀𝐥𝐥 𝐰𝐞 𝐡𝐚𝐯𝐞 𝐭𝐨 𝐝𝐞𝐜𝐢𝐝𝐞 𝐢𝐬 𝐰𝐡𝐚𝐭 𝐭𝐨 𝐝𝐨 𝐰𝐢𝐭𝐡 𝐭𝐡𝐞 𝐭𝐢𝐦𝐞 𝐭𝐡𝐚𝐭 𝐢𝐬 𝐠𝐢𝐯𝐞𝐧 𝐮𝐬. — 𝐓𝐡𝐞 𝐅𝐞𝐥𝐥𝐨𝐰𝐬𝐡𝐢𝐩 𝐨𝐟 𝐭𝐡𝐞 𝐑𝐢𝐧𝐠, 𝐉.𝐑.𝐑. 𝐓𝐨𝐥𝐤𝐢𝐞𝐧"
            "𝐓𝐡𝐞 𝐩𝐚𝐫𝐭𝐲 𝐭𝐨𝐥𝐝 𝐲𝐨𝐮 𝐭𝐨 𝐫𝐞𝐣𝐞𝐜𝐭 𝐭𝐡𝐞 𝐞𝐯𝐢𝐝𝐞𝐧𝐜𝐞 𝐨𝐟 𝐲𝐨𝐮𝐫 𝐞𝐲𝐞𝐬 𝐚𝐧𝐝 𝐞𝐚𝐫𝐬. 𝐈𝐭 𝐰𝐚𝐬 𝐭𝐡𝐞𝐢𝐫 𝐟𝐢𝐧𝐚𝐥, 𝐦𝐨𝐬𝐭 𝐞𝐬𝐬𝐞𝐧𝐭𝐢𝐚𝐥 𝐜𝐨𝐦𝐦𝐚𝐧𝐝. – 𝐆𝐞𝐨𝐫𝐠𝐞 𝐎𝐫𝐰𝐞𝐥𝐥, 1984"
            "𝐈 𝐰𝐢𝐥𝐥 𝐧𝐨𝐭 𝐬𝐚𝐲: 𝐝𝐨 𝐧𝐨𝐭 𝐰𝐞𝐞𝐩; 𝐟𝐨𝐫 𝐧𝐨𝐭 𝐚𝐥𝐥 𝐭𝐞𝐚𝐫𝐬 𝐚𝐫𝐞 𝐚𝐧 𝐞𝐯𝐢𝐥. — 𝐓𝐡𝐞 𝐑𝐞𝐭𝐮𝐫𝐧 𝐨𝐟 𝐭𝐡𝐞 𝐊𝐢𝐧𝐠, 𝐉.𝐑.𝐑. 𝐓𝐨𝐥𝐤𝐢𝐞𝐧"
          )

          RANDOM_QUOTE=${QUOTES[$RANDOM % ${#QUOTES[@]}]}

          sed -i "/<!-- DAILY_QUOTE_START -->/,/<!-- DAILY_QUOTE_END -->/c\\<!-- DAILY_QUOTE_START -->\n$RANDOM_QUOTE\n<!-- DAILY_QUOTE_END -->" README.md

      - name: Commit changes
        run: |
          git config user.name "github-actions"
          git config user.email "github-actions@github.com"
          git add README.md
          git commit -m "Update daily quote" || exit 0
          git push
