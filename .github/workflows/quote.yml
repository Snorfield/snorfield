name: Update Daily Quote

on:
  schedule:
    - cron: "0 0 * * *"
  workflow_dispatch: 

jobs:
  update-quote:
    runs-on: ubuntu-latest

    steps:
      - name: Checkout repo
        uses: actions/checkout@v4

      - name: Pick and update quote
        run: |
          QUOTES=(
            "π—™π—¶π—Ώπ€π, π€π—Όπ—Ήπƒπ—² ππ—µπ—² π—½π—Ώπ—Όπ—―π—Ήπ—²π—Ί. π—§π—µπ—²π—», π„π—Ώπ—¶ππ—² ππ—µπ—² π—°π—Όπ—±π—². β€“ π—π—Όπ—µπ—» π—π—Όπ—µπ—»π€π—Όπ—»"
            "π—§π—®π—Ήπ—Έ π—¶π€ π—°π—µπ—²π—®π—½. π—¦π—µπ—Όπ„ π—Ίπ—² ππ—µπ—² π—°π—Όπ—±π—². β€“ π—π—¶π—»π‚π€ π—§π—Όπ—Ώπƒπ—®π—Ήπ—±π€"
            "π—™π—®π—¶ππ—µπ—Ήπ—²π€π€ π—¶π€ π—µπ—² ππ—µπ—®π π€π—®π†π€ π—³π—®π—Ώπ—²π„π—²π—Ήπ—Ή π„π—µπ—²π—» ππ—µπ—² π—Ώπ—Όπ—®π—± π—±π—®π—Ώπ—Έπ—²π—»π€. β€” π—§π—µπ—² π—™π—²π—Ήπ—Ήπ—Όπ„π€π—µπ—¶π—½ π—Όπ—³ ππ—µπ—² π—¥π—¶π—»π—΄, π—.π—¥.π—¥. π—§π—Όπ—Ήπ—Έπ—¶π—²π—»"
            "π—π—³ π—Ίπ—Όπ—Ώπ—² π—Όπ—³ π‚π€ πƒπ—®π—Ήπ‚π—²π—± π—³π—Όπ—Όπ—± π—®π—»π—± π—°π—µπ—²π—²π—Ώ π—®π—»π—± π€π—Όπ—»π—΄ π—®π—―π—Όπƒπ—² π—µπ—Όπ—®π—Ώπ—±π—²π—± π—΄π—Όπ—Ήπ—±, π—¶π π„π—Όπ‚π—Ήπ—± π—―π—² π—® π—Ίπ—²π—Ώπ—Ώπ—¶π—²π—Ώ π„π—Όπ—Ώπ—Ήπ—±. β€” π—§π—µπ—² π—›π—Όπ—―π—―π—¶π, π—.π—¥.π—¥. π—§π—Όπ—Ήπ—Έπ—¶π—²π—»"
            "π—”π—Ήπ—Ή π„π—² π—µπ—®πƒπ—² ππ—Ό π—±π—²π—°π—¶π—±π—² π—¶π€ π„π—µπ—®π ππ—Ό π—±π—Ό π„π—¶ππ—µ ππ—µπ—² ππ—¶π—Ίπ—² ππ—µπ—®π π—¶π€ π—΄π—¶πƒπ—²π—» π‚π€. β€” π—§π—µπ—² π—™π—²π—Ήπ—Ήπ—Όπ„π€π—µπ—¶π—½ π—Όπ—³ ππ—µπ—² π—¥π—¶π—»π—΄, π—.π—¥.π—¥. π—§π—Όπ—Ήπ—Έπ—¶π—²π—»"
            "π—§π—µπ—² π—½π—®π—Ώππ† ππ—Όπ—Ήπ—± π†π—Όπ‚ ππ—Ό π—Ώπ—²π—·π—²π—°π ππ—µπ—² π—²πƒπ—¶π—±π—²π—»π—°π—² π—Όπ—³ π†π—Όπ‚π—Ώ π—²π†π—²π€ π—®π—»π—± π—²π—®π—Ώπ€. π—π π„π—®π€ ππ—µπ—²π—¶π—Ώ π—³π—¶π—»π—®π—Ή, π—Ίπ—Όπ€π π—²π€π€π—²π—»ππ—¶π—®π—Ή π—°π—Όπ—Ίπ—Ίπ—®π—»π—±. β€“ π—π—²π—Όπ—Ώπ—΄π—² π—Άπ—Ώπ„π—²π—Ήπ—Ή, 1984"
            "π— π„π—¶π—Ήπ—Ή π—»π—Όπ π€π—®π†: π—±π—Ό π—»π—Όπ π„π—²π—²π—½; π—³π—Όπ—Ώ π—»π—Όπ π—®π—Ήπ—Ή ππ—²π—®π—Ώπ€ π—®π—Ώπ—² π—®π—» π—²πƒπ—¶π—Ή. β€” π—§π—µπ—² π—¥π—²ππ‚π—Ώπ—» π—Όπ—³ ππ—µπ—² π—π—¶π—»π—΄, π—.π—¥.π—¥. π—§π—Όπ—Ήπ—Έπ—¶π—²π—»"
          )

          RANDOM_QUOTE=${QUOTES[$RANDOM % ${#QUOTES[@]}]}

          sed -i "/<!-- DAILY_QUOTE_START -->/,/<!-- DAILY_QUOTE_END -->/c\\<!-- DAILY_QUOTE_START -->\n> $RANDOM_QUOTE\n<!-- DAILY_QUOTE_END -->" README.md

      - name: Commit changes
        run: |
          git config user.name "github-actions"
          git config user.email "github-actions@github.com"
          git add README.md
          git commit -m "Update daily quote" || exit 0
          git push
